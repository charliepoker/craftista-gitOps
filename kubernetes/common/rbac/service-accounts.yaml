# Service Accounts for Craftista Microservices
# Each microservice gets its own ServiceAccount for least-privilege access
# These ServiceAccounts are used by pods to interact with the Kubernetes API

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: frontend
  labels:
    app: frontend
    component: web
    managed-by: gitops
automountServiceAccountToken: true

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: catalogue
  labels:
    app: catalogue
    component: api
    managed-by: gitops
automountServiceAccountToken: true

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: voting
  labels:
    app: voting
    component: api
    managed-by: gitops
automountServiceAccountToken: true

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: recommendation
  labels:
    app: recommendation
    component: api
    managed-by: gitops
automountServiceAccountToken: true
