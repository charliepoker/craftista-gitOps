# Vault Secrets Template for Development Environment
# This file documents the required secrets structure for the dev environment
# Use this template to populate secrets in Vault at the specified paths

# Instructions:
# 1. Replace all placeholder values with actual secrets
# 2. Use the sync-secrets.sh script to populate Vault
# 3. Never commit actual secret values to Git

---
# Frontend Service Secrets
# Path: secret/data/craftista/dev/frontend/
frontend:
  api-keys:
    session_secret: "REPLACE_WITH_RANDOM_SESSION_SECRET"
    jwt_secret: "REPLACE_WITH_JWT_SECRET"

  config:
    node_env: "development"
    log_level: "debug"
    port: "3000"

---
# Catalogue Service Secrets
# Path: secret/data/craftista/dev/catalogue/
catalogue:
  mongodb-credentials:
    username: "catalogue_user"
    password: "REPLACE_WITH_MONGODB_PASSWORD"
    database: "catalogue"

  mongodb-uri:
    connection_string: "mongodb://catalogue_user:REPLACE_WITH_MONGODB_PASSWORD@mongodb-dev.craftista.local:27017/catalogue?authSource=admin"

  config:
    flask_env: "development"
    log_level: "DEBUG"
    data_source: "mongodb"

---
# Voting Service Secrets
# Path: secret/data/craftista/dev/voting/
voting:
  postgres-credentials:
    username: "voting_user"
    password: "REPLACE_WITH_POSTGRES_PASSWORD"
    database: "voting"

  postgres-uri:
    jdbc_url: "jdbc:postgresql://postgres-dev.craftista.local:5432/voting"
    connection_string: "postgresql://voting_user:REPLACE_WITH_POSTGRES_PASSWORD@postgres-dev.craftista.local:5432/voting"

  config:
    spring_profiles_active: "dev"
    log_level: "DEBUG"

---
# Recommendation Service Secrets
# Path: secret/data/craftista/dev/recommendation/
recommendation:
  redis-credentials:
    password: "REPLACE_WITH_REDIS_PASSWORD"

  redis-uri:
    connection_string: "redis://:REPLACE_WITH_REDIS_PASSWORD@redis-dev.craftista.local:6379/0"
    host: "redis-dev.craftista.local"
    port: "6379"

  config:
    environment: "development"
    log_level: "debug"

---
# Common Secrets (shared across services)
# Path: secret/data/craftista/dev/common/
common:
  registry:
    dockerhub_username: "REPLACE_WITH_DOCKERHUB_USERNAME"
    dockerhub_password: "REPLACE_WITH_DOCKERHUB_PASSWORD"

  monitoring:
    slack_webhook_url: "REPLACE_WITH_SLACK_WEBHOOK_URL"

  tls:
    cert: "REPLACE_WITH_TLS_CERT"
    key: "REPLACE_WITH_TLS_KEY"

---
# Database Connection Details
# These are reference values for documentation purposes
database_endpoints:
  mongodb:
    host: "mongodb-dev.craftista.local"
    port: 27017
    description: "MongoDB instance for catalogue service"

  postgresql:
    host: "postgres-dev.craftista.local"
    port: 5432
    description: "PostgreSQL instance for voting service"

  redis:
    host: "redis-dev.craftista.local"
    port: 6379
    description: "Redis instance for recommendation service"

---
# Notes:
# - All passwords should be at least 16 characters with mixed case, numbers, and symbols
# - Session secrets should be cryptographically random (use: openssl rand -base64 32)
# - JWT secrets should be cryptographically random (use: openssl rand -base64 64)
# - Database credentials should follow principle of least privilege
# - TLS certificates should be valid for *.dev.webdemoapp.com
# - Slack webhook URLs should be obtained from Slack workspace settings
